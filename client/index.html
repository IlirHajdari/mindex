<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mini Index - File & Email Search</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#1c1c1c" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Mini Index" />

    <!-- Favicon (Webpack will override, but this is a fallback) -->
    <link rel="icon" type="image/png" href="/assets/icons/logo-192.png" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- No need to manually link CSS or JS - webpack handles this -->
  </head>
  <body>
    <div class="app-container">
      <!-- Left sidebar -->
      <div class="sidebar">
        <h1>Mini Index</h1>
        <div class="sidebar-buttons">
          <button id="filtersBtn">Filters</button>
          <button id="indexBtn">Index</button>
        </div>
      </div>

      <!-- Main content area -->
      <div class="main-content">
        <div class="table-header">
          <div class="column name-column">Name</div>
          <div class="column path-column">Path</div>
          <div class="column date-column">Date Modified</div>
          <div class="column count-column">Count</div>
        </div>
        <div class="table-body" id="filesTable">
          <!-- Files will be listed here dynamically -->
        </div>
      </div>

      <!-- Right sidebar -->
      <div class="info-sidebar">
        <div class="info-panel user-info">
          <h3>User Info</h3>
          <div class="info-content" id="userInfoContent"></div>
        </div>
        <div class="info-panel file-info">
          <h3>File Info</h3>
          <div class="info-content" id="fileInfoContent"></div>
        </div>
        <div class="info-panel thumbnail">
          <h3>Thumbnail</h3>
          <div class="info-content" id="thumbnailContent"></div>
        </div>
      </div>
    </div>

    <!-- Original components (hidden but preserved for functionality) -->
    <div id="functional-components" style="display: none">
      <!-- Navigation Bar (preserved for existing JS references) -->
      <nav id="navbar"></nav>

      <!-- Left Panel (preserved for existing JS references) -->
      <div id="left-panel">
        <section id="file-index" class="card">
          <!-- Drag and drop area -->
          <div
            id="dropZone"
            class="drop-area"
            role="region"
            aria-label="Drag and drop area for files and folders"
          >
            <img
              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='43' viewBox='0 0 24 24' fill='none' stroke='%2378909c' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z'%3E%3C/path%3E%3Cpath d='M12 11v6'%3E%3C/path%3E%3Cpath d='m9 14 3-3 3 3'%3E%3C/path%3E%3C/svg%3E"
              alt="Folder icon"
              class="folder-icon"
            />
            <p class="drop-text">Drag & drop files or folders here</p>
            <p class="drop-text-sub">or</p>
          </div>

          <!-- Directory path input -->
          <div id="dirInputContainer" class="dir-input-container">
            <input
              type="text"
              id="directoryPath"
              placeholder="Enter directory path (available when installed)"
              disabled
              aria-label="Directory path input"
            />
          </div>

          <button
            id="indexFilesBtn"
            aria-label="Select files or directories to index"
          >
            Select Files
          </button>
          <div id="indexStatus">Ready to index files</div>
          <div class="indexing-progress"><div class="bar"></div></div>
        </section>

        <section id="email-fetch" class="card"></section>
        <section id="search" class="card"></section>
      </div>

      <!-- Right Panel (preserved for existing JS references) -->
      <div id="right-panel">
        <section id="file-preview" class="card">
          <h2>Preview</h2>
          <p>Select a file or email to preview its contents</p>
        </section>
      </div>
    </div>

    <!-- Filters Panel -->
    <div id="filters-panel" class="modal-panel">
      <div class="modal-header">
        <h2>Filters</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="modal-content">
        <div class="filter-group">
          <label for="fileType">File Type:</label>
          <select id="fileType">
            <option value="all">All Files</option>
            <option value="document">Documents</option>
            <option value="image">Images</option>
            <option value="video">Videos</option>
            <option value="audio">Audio</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="dateModified">Date Modified:</label>
          <select id="dateModified">
            <option value="all">Any Time</option>
            <option value="today">Today</option>
            <option value="week">This Week</option>
            <option value="month">This Month</option>
            <option value="year">This Year</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="fileSize">File Size:</label>
          <select id="fileSize">
            <option value="all">Any Size</option>
            <option value="small">Small (&lt; 1MB)</option>
            <option value="medium">Medium (1-10MB)</option>
            <option value="large">Large (&gt; 10MB)</option>
          </select>
        </div>
        <div class="filter-buttons">
          <button id="applyFiltersBtn">Apply Filters</button>
          <button id="resetFiltersBtn">Reset</button>
        </div>
      </div>
    </div>

    <!-- Index Files Panel -->
    <div id="index-files-panel" class="modal-panel">
      <div class="modal-header">
        <h2>Index Files</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="modal-content index-content">
        <!-- This will be populated with the actual dropZone from the hidden components -->
      </div>
    </div>

    <!-- Drag and Drop Area (Fixed position on screen) -->
    <div id="drag-drop-container" class="drag-drop-floating">
      <h3>Drag & Drop Files</h3>
      <div id="floatingDropZone" class="drop-area floating">
        <img
          src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='43' viewBox='0 0 24 24' fill='none' stroke='%2378909c' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z'%3E%3C/path%3E%3Cpath d='M12 11v6'%3E%3C/path%3E%3Cpath d='m9 14 3-3 3 3'%3E%3C/path%3E%3C/svg%3E"
          alt="Folder icon"
          class="folder-icon"
        />
        <p class="drop-text">Drag & drop files or folders here</p>
        <p class="drop-text-sub">or</p>
        <button id="floatingIndexBtn" class="secondary-btn">
          Select Files
        </button>
      </div>
    </div>

    <!-- Search Bar -->
    <div class="search-container">
      <input
        type="text"
        id="searchQuery"
        placeholder="Search files..."
        aria-label="Search files"
      />
      <button id="searchBtn">Search</button>
    </div>

    <!-- Install App Button -->
    <button id="buttonInstall" class="install-btn">Install App</button>

    <footer>
      <p>Â© 2025 Mini Index</p>
    </footer>

    <!-- Webpack will inject necessary script tags -->
  </body>
</html>
