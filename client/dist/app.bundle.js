/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={16:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,'/* Core Variables */\n:root {\n  --primary: #007acc; /* Changed to match drag-drop.css blue */\n  --secondary: #f5f7fa;\n  --accent: #4caf50; /* Changed to match the enhanced-pwa.css green */\n  --text-dark: #2c3e50;\n  --text-light: #eceff1;\n  --card-bg: #ffffff;\n  --body-bg: #e9ecef;\n  --btn-primary: #007acc; /* Changed to match drag-drop.css */\n  --btn-hover: #0062a3; /* Changed to match drag-drop.css hover */\n  --btn-text: #ffffff;\n  --border-radius: 8px;\n  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  --transition: all 0.3s ease;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n    Oxygen, Ubuntu, sans-serif;\n  background-color: var(--body-bg);\n  color: var(--text-dark);\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  line-height: 1.6;\n}\n\n#navbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: var(--primary);\n  color: var(--text-light);\n  padding: 16px 24px;\n  box-shadow: var(--box-shadow);\n}\n\n#navbar h1 {\n  font-size: 1.5rem;\n  font-weight: 600;\n}\n\n#main-content {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24px;\n  padding: 24px;\n  max-width: 1200px;\n  margin: 0 auto;\n  width: 100%;\n}\n\n/* Left Panel */\n#left-panel {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  min-width: 300px;\n}\n\n/* Right Panel */\n#right-panel {\n  flex: 1.5;\n  min-width: 350px;\n}\n\n/* Card Styling */\n.card {\n  background-color: var(--card-bg);\n  padding: 24px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  width: 100%;\n}\n\n.card h2 {\n  color: var(--primary);\n  margin-bottom: 16px;\n  font-size: 1.25rem;\n  font-weight: 500;\n}\n\n/* Form Elements */\ninput[type="text"] {\n  width: 100%;\n  padding: 12px 16px;\n  margin: 8px 0 16px;\n  border-radius: var(--border-radius);\n  border: 1px solid #ddd;\n  background-color: var(--secondary);\n  color: var(--text-dark);\n  transition: var(--transition);\n}\n\ninput[type="text"]:focus {\n  outline: none;\n  border-color: var(--accent);\n  box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2);\n}\n\ninput[type="text"]::placeholder {\n  color: #9e9e9e;\n}\n\nbutton {\n  padding: 12px 20px;\n  border-radius: var(--border-radius);\n  border: none;\n  background-color: var(--btn-primary);\n  color: var(--btn-text);\n  font-weight: 500;\n  cursor: pointer;\n  transition: var(--transition);\n  width: 100%;\n  margin-bottom: 8px;\n}\n\nbutton:hover {\n  background-color: var(--btn-hover);\n  transform: translateY(-2px);\n}\n\n#buttonInstall {\n  width: auto;\n  margin: 0;\n}\n\n/* File Preview Styling */\n#file-preview {\n  height: 100%;\n  min-height: 500px;\n}\n\n#file-preview p {\n  color: #90a4ae;\n  text-align: center;\n  margin-top: 32px;\n}\n\n/* Status Messages */\n#indexStatus,\n#emailStatus {\n  margin-top: 12px;\n  font-size: 0.9rem;\n  color: #78909c;\n}\n\nfooter {\n  text-align: center;\n  padding: 16px;\n  background-color: var(--primary);\n  color: var(--text-light);\n  margin-top: auto;\n  font-size: 0.9rem;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  #main-content {\n    flex-direction: column;\n  }\n\n  #left-panel,\n  #right-panel {\n    width: 100%;\n  }\n\n  #file-preview {\n    min-height: 300px;\n  }\n}\n\n/* Unified drop area styling - combining .drop-area and .drop-zone */\n.drop-area,\n.drop-zone {\n  border: 2px dashed #ccc;\n  border-radius: var(--border-radius);\n  padding: 25px;\n  margin-bottom: 16px;\n  text-align: center;\n  background-color: var(--secondary);\n  transition: var(--transition);\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.drop-area:hover,\n.drop-zone:hover {\n  border-color: var(--primary);\n  background-color: rgba(0, 122, 204, 0.05);\n}\n\n.drop-area.highlight,\n.drop-zone.highlight,\n#file-index.highlight .drop-zone {\n  border-color: var(--primary);\n  background-color: rgba(0, 122, 204, 0.1);\n}\n\n.folder-icon {\n  width: 50px;\n  height: 43px;\n  margin-bottom: 12px;\n}\n\n.drop-text,\n.drop-zone-prompt {\n  font-size: 1rem;\n  color: var(--text-dark);\n  margin: 4px 0;\n}\n\n.drop-text-sub {\n  font-size: 0.8rem;\n  color: #90a4ae;\n  margin-top: 4px;\n}\n\n/* Unified directory input container */\n.dir-input-container,\n.directory-input-container {\n  position: relative;\n  width: 100%;\n  opacity: 0.6;\n  margin-bottom: 16px;\n}\n\n/* Make it clear when the app is installed */\n.app-installed .dir-input-container,\n.app-installed .directory-input-container {\n  opacity: 1;\n}\n\n.app-installed #directoryPath {\n  background-color: white;\n  border-color: var(--accent);\n}\n\n.app-installed #directoryPath:disabled {\n  background-color: var(--secondary);\n  border-color: #ddd;\n}\n\n/* Unified directory browser button */\n.directory-browser-button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  height: 30px;\n  width: 30px;\n  background-color: #ececec;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.directory-browser-button::before {\n  content: "ðŸ“";\n  font-size: 16px;\n}\n\n.directory-browser-button:hover {\n  background-color: #e0e0e0;\n}\n\n/* Unified progress indicator */\n.indexing-progress {\n  height: 4px;\n  background-color: #ddd;\n  width: 100%;\n  margin-top: 16px;\n  overflow: hidden;\n  border-radius: 2px;\n  display: none;\n}\n\n.indexing-progress.active {\n  display: block;\n}\n\n.indexing-progress .bar {\n  height: 100%;\n  width: 0;\n  background-color: var(--primary);\n  transition: width 0.3s ease;\n}\n\n.indexing-progress.active .bar {\n  animation: progress-animation 2s infinite linear;\n}\n\n@keyframes progress-animation {\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 70%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n\n/* Unified status styling */\n.enhanced-status {\n  background-color: rgba(0, 122, 204, 0.1);\n  border-left: 3px solid var(--primary);\n  padding: 8px !important;\n  font-weight: 500 !important;\n}\n\n/* App badge styling */\n.app-badge,\n.enhanced-badge {\n  display: none;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background-color: var(--accent);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.7rem;\n  font-weight: bold;\n  z-index: 10;\n}\n\n.app-installed .app-badge,\n.app-installed .enhanced-badge {\n  display: block;\n}\n\n/* Specific styling for the index button */\n#indexFilesBtn {\n  background-color: var(--primary);\n  color: white;\n  width: 100%;\n  font-weight: 500;\n  margin-top: 10px;\n}\n\n#indexFilesBtn:hover {\n  background-color: var(--btn-hover);\n}\n\n/* Search results styling */\n.search-results {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.search-results li {\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  display: flex;\n  flex-direction: column;\n}\n\n.search-results li:hover {\n  background-color: #f5f5f5;\n}\n\n.search-results .file-path {\n  font-size: 0.8rem;\n  color: #666;\n  margin-top: 3px;\n}\n\n.search-results .file-size {\n  font-size: 0.8rem;\n  color: #888;\n  margin-top: 2px;\n}\n\n.file-content {\n  margin-top: 15px;\n  border: 1px solid #ddd;\n  padding: 10px;\n  max-height: 300px;\n  overflow: auto;\n  background-color: #f9f9f9;\n}\n\n.file-content pre {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  margin: 0;\n}\n\n/* File type indicators */\n.file-icon {\n  font-size: 1.2rem;\n  margin-right: 8px;\n}\n\n.file-type-pdf::before {\n  content: "ðŸ“„";\n}\n.file-type-doc::before {\n  content: "ðŸ“";\n}\n.file-type-image::before {\n  content: "ðŸ–¼ï¸";\n}\n.file-type-code::before {\n  content: "ðŸ“‹";\n}\n.file-type-folder::before {\n  content: "ðŸ“";\n}\n.file-type-default::before {\n  content: "ðŸ“Ž";\n}\n\n/* Standalone PWA mode styling - unified */\n@media (display-mode: standalone) {\n  body {\n    padding-top: env(safe-area-inset-top);\n    padding-left: env(safe-area-inset-left);\n    padding-right: env(safe-area-inset-right);\n    padding-bottom: env(safe-area-inset-bottom);\n  }\n\n  #navbar {\n    background-color: #005a9e;\n  }\n\n  #navbar h1::after {\n    content: " (Installed)";\n    font-size: 0.7rem;\n    vertical-align: super;\n    margin-left: 5px;\n    opacity: 0.7;\n  }\n\n  /* Make the index button more prominent in installed mode */\n  #indexFilesBtn {\n    background-color: var(--accent);\n    font-weight: bold;\n  }\n\n  #indexFilesBtn:hover {\n    background-color: #45a049;\n  }\n}\n',""]);const c=i},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var p=t(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var h=o(f,r);r.byIndex=c,n.splice(c,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=t(a[i]);n[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var u=t(a[l]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}a=s}}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var r=t(72),o=t.n(r),a=t(825),i=t.n(a),c=t(659),s=t.n(c),l=t(56),u=t.n(l),d=t(540),p=t.n(d),f=t(113),h=t.n(f),g=t(16),v={};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=b(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw a}}}}function b(e,n){if(e){if("string"==typeof e)return x(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,n):void 0}}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function w(){w=function(){return n};var e,n={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{l({},"")}catch(e){l=function(e,n,t){return e[n]=t}}function u(e,n,t,r){var a=n&&n.prototype instanceof y?n:y,i=Object.create(a.prototype),c=new M(r||[]);return o(i,"_invoke",{value:C(e,t,c)}),i}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",g="completed",v={};function y(){}function b(){}function x(){}var k={};l(k,i,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(O([])));S&&S!==t&&r.call(S,i)&&(k=S);var L=x.prototype=y.prototype=Object.create(k);function I(e){["next","throw","return"].forEach((function(n){l(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==m(u)&&r.call(u,"__await")?n.resolve(u.__await).then((function(e){t("next",e,i,c)}),(function(e){t("throw",e,i,c)})):n.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return t("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new n((function(n,o){t(e,r,n,o)}))}return a=a?a.then(o,o):o()}})}function C(n,t,r){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=B(c,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var l=d(n,t,r);if("normal"===l.type){if(o=r.done?g:f,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function B(n,t){var r=t.method,o=n.iterator[r];if(o===e)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=e,B(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=d(o,n.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,v;var i=a.arg;return i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function A(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(n){if(n||""===n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function t(){for(;++o<n.length;)if(r.call(n,o))return t.value=n[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(m(n)+" is not iterable")}return b.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},n.awrap=function(e){return{__await:e}},I(P.prototype),l(P.prototype,c,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,o,a){void 0===a&&(a=Promise);var i=new P(u(e,t,r,o),a);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},I(L),l(L,s,"Generator"),l(L,i,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var r in n)t.push(r);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in n)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=O,M.prototype={constructor:M,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!n)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function o(r,o){return c.type="throw",c.arg=n,t.next=r,o&&(t.method="next",t.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),v},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),A(t),v}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;A(t)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,t,r){return this.delegate={iterator:O(n),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=e),v}},n}function k(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,o)}function E(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){k(a,r,o,i,c,"next",e)}function c(e){k(a,r,o,i,c,"throw",e)}i(void 0)}))}}function S(e){var n,t,r,o=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new L(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function L(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var n=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:n}}))}return L=function(e){this.s=e,this.n=e.next},L.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new L(e)}v.styleTagTransform=h(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),o()(g.A,v),g.A&&g.A.locals&&g.A.locals;var I="showDirectoryPicker"in window;function P(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")}function C(e,n,t,r){return B.apply(this,arguments)}function B(){return(B=E(w().mark((function e(n,t,r,o){var a,i,c,s,l,u,d;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],i=[],c=0;c<n.length;c++)"file"===(s=n[c]).kind&&(l=s.webkitGetAsEntry())&&i.push(j(l,a));return e.prev=3,e.next=6,Promise.all(i);case 6:if(0!==a.length){e.next=10;break}return t.textContent="No valid files found to index.",N(r),e.abrupt("return");case 10:return t.textContent="Getting file content for ".concat(a.length," files..."),u=a.map((function(e){return new Promise((function(n,t){e.file((function(t){t.relativePath=e.fullPath,n(t)}),t)}))})),e.next=14,Promise.all(u);case 14:return d=e.sent,e.next=17,T(d,t,r,o);case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),console.error("Error processing entries:",e.t0),t.textContent="Error processing files. Please try again.",N(r);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})))).apply(this,arguments)}function j(e,n){return A.apply(this,arguments)}function A(){return(A=E(w().mark((function e(n,t){var r,o,a,i,c,s;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isFile){e.next=4;break}t.push(n),e.next=27;break;case 4:if(!n.isDirectory){e.next=27;break}return r=n.createReader(),o=[],a=function(){return new Promise((function(e,n){r.readEntries((function(t){t.length?(o=o.concat(Array.from(t)),a().then(e).catch(n)):e()}),n)}))},e.next=10,a();case 10:i=y(o),e.prev=11,i.s();case 13:if((c=i.n()).done){e.next=19;break}return s=c.value,e.next=17,j(s,t);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[11,21,24,27]])})))).apply(this,arguments)}function M(e,n,t,r){return O.apply(this,arguments)}function O(){return O=E(w().mark((function e(n,t,r,o){var a,i,c,s,l,u,d,p,f,h,g,v=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.length>4&&void 0!==v[4]?v[4]:"",i=[],e.prev=2,t.textContent="Indexing directory: ".concat(n.name,"..."),z(r),c=!1,s=!1,e.prev=7,u=S(n.values());case 9:return e.next=11,u.next();case 11:if(!(c=!(d=e.sent).done)){e.next=42;break}if(p=d.value,f=a?"".concat(a,"/").concat(p.name):p.name,"file"!==p.kind){e.next=28;break}return e.prev=15,e.next=18,p.getFile();case 18:(h=e.sent).relativePath=f,i.push(h),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(15),console.error("Error accessing file ".concat(f,":"),e.t0);case 26:e.next=39;break;case 28:if("directory"!==p.kind){e.next=39;break}return e.prev=29,e.next=32,M(p,t,r,o,f);case 32:g=e.sent,i.push.apply(i,function(e){if(Array.isArray(e))return x(e)}(m=g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||b(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e.next=39;break;case 36:e.prev=36,e.t1=e.catch(29),console.error("Error accessing subdirectory ".concat(f,":"),e.t1);case 39:c=!1,e.next=9;break;case 42:e.next=48;break;case 44:e.prev=44,e.t2=e.catch(7),s=!0,l=e.t2;case 48:if(e.prev=48,e.prev=49,!c||null==u.return){e.next=53;break}return e.next=53,u.return();case 53:if(e.prev=53,!s){e.next=56;break}throw l;case 56:return e.finish(53);case 57:return e.finish(48);case 58:e.next=63;break;case 60:e.prev=60,e.t3=e.catch(2),console.error("Error traversing directory ".concat(n.name,":"),e.t3);case 63:if(a){e.next=71;break}if(!(i.length>0)){e.next=69;break}return e.next=67,T(i,t,r,o);case 67:e.next=71;break;case 69:t.textContent="No files found to index in the selected directory.",N(r);case 71:return e.abrupt("return",i);case 72:case"end":return e.stop()}var m}),e,null,[[2,60],[7,44,48,58],[15,23],[29,36],[49,,53,57]])}))),O.apply(this,arguments)}function T(e,n,t,r){return F.apply(this,arguments)}function F(){return(F=E(w().mark((function e(n,t,r,o){var a,i,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&0!==n.length){e.next=4;break}return t.textContent="No files to process.",N(r),e.abrupt("return");case 4:return t.textContent="Indexing ".concat(n.length," files..."),z(r),a={},i=0,c=n.map((function(e){return new Promise((function(t){var r={name:e.name,path:e.relativePath||e.name,size:e.size,type:e.type,lastModified:e.lastModified};if(e.type.startsWith("text/")||e.name.match(/\.(md|json|csv|txt|js|html|css)$/i)){var c=new FileReader;c.onload=function(e){r.content=e.target.result,a[r.path]=r,i++,o&&(o.style.width="".concat(i/n.length*100,"%")),t()},c.onerror=function(e){console.error("Error reading file:",e),a[r.path]=r,i++,o&&(o.style.width="".concat(i/n.length*100,"%")),t()},c.readAsText(e)}else a[r.path]=r,i++,o&&(o.style.width="".concat(i/n.length*100,"%")),t()}))})),e.prev=9,e.next=12,Promise.all(c);case 12:return e.next=15,D(a);case 15:U(a),e.next=19;break;case 18:console.log("Skipping file index save/update in development mode");case 19:t.textContent="Indexed ".concat(n.length," files successfully."),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),console.error("Error processing files:",e.t0),t.textContent="Error processing files. Please try again.";case 26:setTimeout((function(){N(r),o&&(o.style.width="0%")}),1e3);case 27:case"end":return e.stop()}}),e,null,[[9,22]])})))).apply(this,arguments)}function z(e){e&&e.classList.add("active")}function N(e){e&&e.classList.remove("active")}function D(e){return _.apply(this,arguments)}function _(){return(_=E(w().mark((function e(n){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((t=JSON.stringify(n)).length<5242880)){e.next=6;break}localStorage.setItem("fileIndex",t),e.next=8;break;case 6:return e.next=8,G(n);case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),console.error("Error saving file index to localStorage:",e.t0),e.next=15,G(n);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function G(e){return R.apply(this,arguments)}function R(){return(R=E(w().mark((function e(n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=indexedDB.open("MiniIndexDB",1);r.onerror=function(e){console.error("IndexedDB error:",e.target.error),t(e.target.error)},r.onupgradeneeded=function(e){var n=e.target.result;n.objectStoreNames.contains("files")||n.createObjectStore("files",{keyPath:"path"})},r.onsuccess=function(r){var o=r.target.result.transaction(["files"],"readwrite"),a=o.objectStore("files");a.clear(),Object.values(n).forEach((function(e){a.add(e)})),o.oncomplete=function(){return e()},o.onerror=function(e){return t(e.target.error)}}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var n={};Object.values(e).forEach((function(e){var t=e.name.split(".").pop().toLowerCase()||"unknown";n[t]=(n[t]||0)+1}));var t=document.getElementById("file-preview");if(t){var r="<h2>Indexed Files Summary</h2>";r+="<ul>",r+="<li><strong>Total files:</strong> ".concat(Object.values(e).length,"</li>"),r+="<li><strong>File types:</strong><ul>",Object.entries(n).forEach((function(e){var n,t,o=(t=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(n,t)||b(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1];r+="<li>".concat(a,": ").concat(i," files</li>")})),r+="</ul></li>",r+="</ul>",r+="<p>Use the search box to find specific files in your index.</p>",t.innerHTML=r}}function q(e){if(0===e)return"0 Bytes";var n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][n]}console.log("Application initialized"),document.addEventListener("DOMContentLoaded",(function(){var e,n;console.log("DOM loaded - initializing app features"),function(){var e=document.getElementById("dropZone"),n=document.getElementById("indexStatus"),t=document.getElementById("directoryPath"),r=document.getElementById("indexFilesBtn"),o=document.querySelector(".indexing-progress .bar"),a=document.querySelector(".indexing-progress");if(e&&n&&r){if(P()){if(document.body.classList.add("app-installed"),I){var i;t.disabled=!1,t.placeholder="Enter directory path or click 'Browse Directories'",r.textContent="Browse Directories";var c=document.createElement("div");c.className="app-badge",c.textContent="Enhanced Mode",null===(i=document.getElementById("file-index"))||void 0===i||i.appendChild(c),n.textContent="App installed with enhanced file access capabilities",n.classList.add("enhanced-status")}}else r.textContent="Select Files",I||(r.disabled=!0,r.title="Install the app for enhanced file access");!function(e,n,t,r){function o(e){e.preventDefault(),e.stopPropagation()}function a(){e.classList.add("highlight")}function i(){e.classList.remove("highlight")}function c(){return(c=E(w().mark((function e(o){var a,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.dataTransfer.items,i=o.dataTransfer.files,n.textContent="Processing dropped items...",z(t),!(a.length>0&&a[0].webkitGetAsEntry)){e.next=9;break}return e.next=7,C(a,n,t,r);case 7:e.next=16;break;case 9:if(!(i.length>0)){e.next=14;break}return e.next=12,T(Array.from(i),n,t,r);case 12:e.next=16;break;case 14:n.textContent="No valid files or folders were dropped.",N(t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}["dragenter","dragover","dragleave","drop"].forEach((function(n){e.addEventListener(n,o,!1)})),["dragenter","dragover"].forEach((function(n){e.addEventListener(n,a,{passive:!0})})),["dragleave","drop"].forEach((function(n){e.addEventListener(n,i,{passive:!0})})),e.addEventListener("drop",(function(e){return c.apply(this,arguments)}))}(e,n,a,o),r.addEventListener("click",E(w().mark((function e(){var r,i,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=30;break}if(e.prev=1,!P()){e.next=12;break}return n.textContent="Please select a directory...",e.next=6,window.showDirectoryPicker();case 6:return r=e.sent,t.value=r.name,e.next=10,M(r,n,a,o);case 10:e.next=21;break;case 12:return n.textContent="Please select files...",e.next=15,window.showOpenFilePicker({multiple:!0});case 15:return i=e.sent,e.next=18,Promise.all(i.map((function(e){return e.getFile()})));case 18:return c=e.sent,e.next=21,T(c,n,a,o);case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(1),console.error("File selection error:",e.t0),"AbortError"===e.t0.name?n.textContent="File selection cancelled.":n.textContent="Error accessing files. Please try again.",N(a);case 28:e.next=31;break;case 30:n.textContent="File system access not available in this browser. Please use drag and drop instead.";case 31:case"end":return e.stop()}}),e,null,[[1,23]])}))))}}(),function(){var e=document.getElementById("searchBtn"),n=document.getElementById("searchQuery"),t=document.getElementById("file-preview");function r(e){return o.apply(this,arguments)}function o(){return(o=E(w().mark((function e(n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.trim()){e.next=3;break}return t.innerHTML="<h2>Preview</h2><p>Enter a search term to find files.</p>",e.abrupt("return");case 3:return e.prev=3,e.prev=4,r=JSON.parse(localStorage.getItem("fileIndex"))||{},e.next=8,a();case 8:r=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=15,a();case 15:r=e.sent;case 16:i(n,r),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(3),console.error("Search error:",e.t1),t.innerHTML="<h2>Search Error</h2><p>Error accessing the file index.</p>";case 23:case"end":return e.stop()}}),e,null,[[3,19],[4,11]])})))).apply(this,arguments)}function a(e){return new Promise((function(e,n){var t=indexedDB.open("MiniIndexDB",1);t.onerror=function(e){console.error("IndexedDB error:",e.target.error),n(e.target.error)},t.onsuccess=function(n){var t=n.target.result.transaction(["files"],"readonly").objectStore("files"),r={};t.openCursor().onsuccess=function(n){var t=n.target.result;t?(r[t.value.path]=t.value,t.continue()):e(r)}}}))}function i(e,n){e=e.toLowerCase();var o=[];if(Object.values(n).forEach((function(n){(n.name.toLowerCase().includes(e)||n.content&&n.content.toLowerCase().includes(e))&&o.push(n)})),0===o.length)t.innerHTML="<h2>No Results</h2><p>No files match your search query.</p>";else{var a='<h2>Search Results for "'.concat(e,'"</h2>');a+='<ul class="search-results">',o.forEach((function(e){a+='<li data-path="'.concat(e.path,'">'),a+="<strong>".concat(e.name,"</strong>"),a+='<span class="file-path">'.concat(e.path,"</span>"),a+='<span class="file-size">'.concat(q(e.size),"</span>"),a+="</li>"})),a+="</ul>",t.innerHTML=a,document.querySelectorAll(".search-results li").forEach((function(e){e.addEventListener("click",(function(){var e=this.getAttribute("data-path"),o=n[e];o&&function(e){var n="<h2>File Preview: ".concat(e.name,"</h2>");n+="<p><strong>Path:</strong> ".concat(e.path,"</p>"),n+="<p><strong>Size:</strong> ".concat(q(e.size),"</p>"),n+="<p><strong>Last Modified:</strong> ".concat(new Date(e.lastModified).toLocaleString(),"</p>"),e.content?(n+='<div class="file-content">',n+="<pre>".concat(e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),"</pre>"),n+="</div>"):n+="<p>Content preview not available for this file type.</p>",n+='<button id="backToResults" style="margin-top: 16px;">Back to Search Results</button>',t.innerHTML=n,document.getElementById("backToResults").addEventListener("click",(function(){r(document.getElementById("searchQuery").value)}))}(o)}))}))}}e&&n&&t&&(e.addEventListener("click",(function(){return r(n.value)})),n.addEventListener("keypress",(function(e){"Enter"===e.key&&r(n.value)})))}(),function(){var e,n=document.getElementById("buttonInstall");if(n&&(window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),e=t,n.style.display="block",console.log("App can be installed - showing install button")})),n.addEventListener("click",E(w().mark((function t(){var r,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return console.log("Cannot install: No installation prompt available"),t.abrupt("return");case 3:return e.prompt(),t.next=6,e.userChoice;case 6:r=t.sent,o=r.outcome,console.log("Installation ".concat(o)),"accepted"===o&&(n.style.display="none"),e=null;case 11:case"end":return t.stop()}}),t)})))),window.addEventListener("appinstalled",(function(){console.log("App was installed"),n.style.display="none",document.body.classList.add("app-installed");var e=document.getElementById("directoryPath");e&&I&&(e.disabled=!1,e.placeholder="Enter directory path or click 'Browse Directories'");var t=document.getElementById("indexFilesBtn");t&&I&&(t.textContent="Browse Directories");var r=document.getElementById("indexStatus");r&&(r.textContent="App installed with enhanced file access capabilities",r.classList.add("enhanced-status"));var o=document.getElementById("file-index");if(o&&!o.querySelector(".app-badge")){var a=document.createElement("div");a.className="app-badge",a.textContent="Enhanced Mode",o.appendChild(a)}})),P())){document.body.classList.add("app-installed"),n.style.display="none";var t=document.getElementById("file-index");if(t&&!t.querySelector(".app-badge")&&I){var r=document.createElement("div");r.className="app-badge",r.textContent="Enhanced Mode",t.appendChild(r)}}}(),console.log("App initialized. Installed as PWA:",P()),console.log("File System Access API available:",I),e=document.getElementById("fetchEmailsBtn"),n=document.getElementById("emailStatus"),e&&n&&e.addEventListener("click",(function(){n.textContent="Syncing emails...",setTimeout((function(){n.textContent="Successfully synced 0 emails"}),1500)}))})),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/src-sw.js").then((function(e){console.log("Service Worker registered with scope:",e.scope)})).catch((function(e){console.error("Service Worker registration failed:",e)}))}))})();